---
종류: 문헌
날짜: 2023-09-07
인물_저자: 윤성우
태그: 프로그래밍,네트워크
출처: 윤성우의 열혈 TCP IP 소켓 프로그래밍
구분_장소_분류: ""
aliases: []
---

### 날짜: 2023-09-07 15:41
### 태그: #프로그래밍/네트워크

>[!메모]
> 

### 학습 내용
---
### 표준 입출력 함수의 장점
1. 이식성
2. 버퍼링을 통한 성능 향상
### 버퍼링을 통한 성능 향상
- 표준 입출력 함수를 사용하면 추가적으로 입출력 버퍼를 제공받게 된다.
![[Pasted image 20230907154408.png]]
- 만약 TCP 패킷이 유실되었다면 다시 보내야 하는 데이터는 소켓의 출력 버퍼에 들어있다.
- 입출력 함수의 버퍼는 성능 향상의 목적만 가지고 있다.
- **버퍼링 사용 시 이점**
	- 전송하는 데이터의 양
	- 출력버퍼로의 데이터 이동 횟수
- 패킷 헤더의 크기는 40바이트 정도 된다.
	- 1바이트를 10번에 걸쳐 전송하는 경우
		- 패킷의 헤더를 포함한 경우 총 **(40byte + 1byte) * 10**를 전송
	- 1바이트를 모아 10바이트를 한 번에 보내는 경우
		- 패킷의 헤더를 포함한 경우 총 **40byte + 10byte**를 전송
- 소켓의 출력 버퍼로 데이터를 이동시키는 데에 걸리는 시간도 10배 차이가 난다.
> [!Tip]
> read()와 write()로 데이터를 이동시키는 것보다 fgets() fputs()를 이용하는 것이 더 좋다.
### 표준 입출력 함수의 단점
- 양방향 통신이 쉽지 않음
	- 읽기, 쓰기가 동시에 가능하려면 r+, w+, a+ 모드로 파일을 열어야 함.
- 상황에 따라서 fflush의 호출이 빈번할 수 있음
	- 버퍼링 문제로 인해 읽기 -> 쓰기 / 쓰기 -> 읽기로 전환하려면 fflush()를 호출해야 한다.
	- 이 경우 버퍼링 기반의 성능 향상에도 영향을 미친다.
- 파일 디스크립터를 `FILE *`로  변환해야 한다.


---
### 생각 (파생된 질문/생각)
- 
### 출 처
- 윤성우의 열혈 TCP IP 소켓 프로그래밍

### 연결 문서: {연결 이유}
- 