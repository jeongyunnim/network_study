---
종류: 문헌
날짜: 2023-09-11
인물_강사: 널널한 개발자
태그: 프로그래밍,네트워크
출처: Windows 소켓 프로그래밍 입문에서 고성능 서버까지
구분_장소_분류: 인프런
aliases: []
---

### 날짜: 2023-09-11

### 태그: #프로그래밍/네트워크

>[!메모]
> 

### 학습 내용
---
## TCP 장애 유형
- **L4부터 L1까지의 장애**
## Network의 Infrastructure 장애
- 네트워크 관리자가 해결해야 함
### Packet Loss
- 패킷이 유실된 경우
- Internet(패킷 교환망) -> packet(MTU: 1500)
	- 매우 불안정하다.
### TCP Out of order
- 패킷의 순서가 뒤바뀐 경우
- 타이머와 관련이 있다.
- 재전송이 일어날 수 있음.
### Retransmission / Dup ACK
- 재전송이 일어났을 경우 ACK가 중복되어 오묘한 차로 계속 같은 패킷을 주고받는 상황이 생길 수 있음.
## 소켓 프로그래밍 수준 장애
### Zero-window
- 소켓에 쌓이는 데이터들을 프로세스 수준으로 가져온다.
- 네트워크 수신 속도가 더 빠르면 여유 공간이 점점 줄어들다가 모두 차버린다.
- 여유공간을 **window**라고 함.
	- window를 클라이언트에게 알려준다.
- 속도를 향상시키기 위해 개발자가 노력 해야 한다.
## 연결이란?
- 클라이언트 연결은 무엇인가?
	- 3-way handshaking.
	- accept가 반환되었다. / connect가 반환되었다.
- Remote client에서 연결이 해제되었는지 어떻게 알 수 있는가?
	- 연결은 객관적이지 않고 **주관적인 판단**을 하게 된다.
	- 클라이언트가 LAN 케이블을 뽑아버리거나, **시스템 Reset** 또는 **정전 상황**을 감지할 수 있는가?
- 연결이 계속 유지되고 있는가?
	- 알 수 없음.
- 연결이 되었다는 상태를 지속적으로 확인해야 한다.
	- 어플리케이션 프로토콜을 설계할 때, [[Heart beat 모니터링]]을 한다.
	- 연결확인 주기를 얼마로 설정해야 하는가?
		- 너무 자주 보내면 효율이 떨어질 수 있다.
- 고성능은 게임업계와 관련이 있다.
### 연결이라는 착각
- 재전송 타이머의 기본 근사 값은 대략 3초, 대다수 운영체제들은 1초 미만
- 재전송 타이머 만료시 세그먼트를 재전송한다.
	- 이후 RTO(Retransmission Time-Out) 값은 두 배로 증가
	- 1초 > 2초 > 4초 > 8초 > 16초(여기까지는 네트워크가 대응하지 않을 수 있음) 간격으로 재전송한다.
	- 보통 5회 재전송을 시도하고 5회 이상 실패할 경우 전송 오류가 발생한다.
- 컴퓨터 두 대를 가지고 스위치쪽의 업링크를 시간마다 끊어보며 체크해보아라.

---
### 생각 (파생된 질문/생각)
- 
### 출 처
- [Windows 소켓 프로그래밍 입문에서 고성능 서버까지! ](https://www.inflearn.com/course/%EC%9C%88%EB%8F%84%EC%9A%B0-%EC%86%8C%EC%BC%93-%EC%9E%85%EB%AC%B8-%EA%B3%A0%EC%84%B1%EB%8A%A5-%EC%84%9C%EB%B2%84)

### 연결 문서: {연결 이유}
- 